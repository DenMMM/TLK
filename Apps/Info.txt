                                  TLK 3.10 demo 7
============================================================================================
	Компьютерные клубы, наверное уже не существуют... Даже в "глубинке". И все же захотелось вспомнить былое, почувствовать себя крутым программером. :)
	Последняя разработка "TLK 3.10 demo 6" писалась много лет назад, когда я уже не работал клубе. Были удалены не реализованные опции, засорявшие интерфейс. Переделан редактор тарифов, диалоги запуска/штрафования стали проще и понятнее. Аккаунт сис.админа заменен единственным паролем для входа в настройки модуля управления. Сам модуль теперь запускается и в отсутствие начатой смены. Добавлены его настройки.
	Реализована полная удаленная настройка клиентской части: как списка игр, так и некоторых нюансов поведения. Теперь настройки можно не только рассылать, но и скачивать, сохранять в файлы.
	Интерфейс синхронизации сервера и клиента переведен на UDP. Настройки раздаются через TCP. Реализовано включение компьютеров через WOL с помощью magic-пакетов.Сервер сохраняет свой кэш MAC-адресов между запусками.
	Для управления доступом в Интернет добавлен "костыль" - служба, устанавливаемая на клиенте. Она работает параллельно с оболочкой и считывает ее настройки из реестра (при каждом их обновлении). Когда компьютер запущен по тарифу с "доступом" и не оштрафован/приостановлен, открыт для обслуживания, служба добавляет маршрут по-умолчанию с адресом DNS-сервера из настроек ОС. Время работы она считает самостоятельно, поэтому маршрут будет удален надежно по-окончании времени.
	В логи теперь сохраняются не только действия админов, но и настройки модуля управления при каждом их изменении или запуске модуля. Это позволило восстанавливать по логам состояние зала на любое время. Не знаю насколько полезно... "Выпендрился". :)
	Логи ведутся не посменно, а по периодам времени (автоматически). Не уверен, что так удобнее... Можно вручную начать новый лог через настройки.

	В "demo 7" в основном выполнил реструктуризацию, чтобы вынести общие части в "ядро" и убрать повторяющийся в разных модулях код. Добавил описаний и обновил до C++Builder 6.
	Переделал модуль маршрутизации, исправил синхронизацию по UDP (клиент рассылал броадкасты). Чуть улучшил шифрование, но оно осталось "самопальным" с ключем 32-бита (для файлов/реестра и сети разный).
	

                                 Процесс установки
============================================================================================
	Файлы, необходимые для работы клиентской части программы, находятся в директории ClientModule. Картинки с сообщениями необходимо скопировать в директорию Windows, файл шрифта установить вручную.
	Список игр/настройки рассылаются по сети из модуля управления и вручную не редактируются.
	TLK.exe можно, в принципе, "положить" куда угодно, но лучше в директорию Windows.
	Для WinXP разумно устанавливать клиента под конкретного пользователя, прописывая вручную "HKCR\Software\Microsoft\Windows NT\CurrentVersion\Winlogon" ключ "shell"="C:\Windows\TLk.exe".
	Свои настройки клиент хранит в реестре. Исторически в HKLM...
	При старте он обеспечивает запуск приложений перечисленных в "HKLM\Software\Microsoft\Windows\CurrentVersion\Run".
	Админская часть больше ничего не хранит в реестре. Все что нужно - DAT-файлы.
	Модуль машрутизации регистрируется сам при выполнении "TLKRte.exe /install". Удаляется, соответственно, "TLKRte.exe /uninstall".


                      Замена не нужных программ в системе программой-заглушкой
============================================================================================
	При работе с некоторыми играми обнаружилось, что они очень любят открывать приложения типа Internet Eplorer, блокнота или еще чего. А если файлы этих приложений удалены, то открывается обзор по диску, что потенциально дает возможность для взлома компьютера. Чтобы такого не происходило, с TLK 3.0 поставляется маленькая программка ExeRepl.exe . При запуске она просто ничего не делает.


                                     Просмотр фильмов
============================================================================================
	С TLK 3.0 бета 4.5 поставляется простой видео-плейер.
	Он позволяет воспроизводить медиа-данные типа "MPEGVideo" (расширения файлов для этого типа можно найти в Win.ini, раздел "mci extensions"). Для просмотра фильма нужно занести в список игр примерно следующее:
"C:\WINDOWS\VPlay.exe" D:\Video\Блейд 2.avi
C:\WINDOWS\VPlay.exe
	Поскольку плейер использует MCI, для просмотра фильмов и прослушивания музыки необходимо устанавливать соответствующие кодеки (DivX, например).
	Чтобы не нагружать закрытый компьютер бесполезной работой, плейер автоматически останавливает воспроизведение, если его окно некоторое время не активно.


                            Задание времени при запуске компьютеров
============================================================================================
	Время, на которое запускается компьютер, в зависимости от тарифной сетки выбирается из списка или задается с точностью до минуты в виде "часы:минуты". И не забывайте для полутора часов писать последний нуль, т.е. "1:30", а не "1:3".
